{{- if .Values.mock.enabled }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "psd2.fullname" . }}-mock-db
  labels:
{{ include "psd2.labels" . | indent 4 }}
type: Opaque
data:
  admin-password: {{ .Values.mock.db.admin.password | b64enc }}
{{- if .Values.mock.db.user }}
  username: {{ .Values.mock.db.user.username | b64enc }}
  password: {{ .Values.mock.db.user.password | b64enc }}
  database: {{ .Values.mock.db.database.name | b64enc }}
{{- end }}
{{- end }}
